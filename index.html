<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ma princesse — l'amour qui traverse les étoiles (Réponse)</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Great+Vibes&display=swap');

  :root{
    --bg-dark:#06020b;
    --violet-1:#2e0240;
    --violet-2:#45104a;
    --accent:#caa0f2;
    --gold:#e6bf48;
    --cream:#f6ede6;
    --glass: rgba(255,255,255,0.04);
    --flag-size:52px;
    --card-radius:16px;
  }

  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:"Playfair Display", serif;
    -webkit-font-smoothing:antialiased;
    background: linear-gradient(180deg,#04020a 0%, #0b0410 100%);
    color:var(--cream);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
  }

  /* Canvas de estrellas */
  #stars { position:fixed; inset:0; z-index:0; pointer-events:none; }

  .wrap { width:100%; max-width:1080px; position:relative; z-index:2; }

  /* Intro overlay */
  .intro {
    position:fixed; inset:0; z-index:9;
    display:flex; align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(6,2,20,0.86), rgba(0,0,0,0.9));
    backdrop-filter: blur(4px);
    flex-direction:column; gap:14px; text-align:center; padding:22px;
  }
  .intro h1{
    font-family:'Great Vibes', cursive;
    color:var(--gold); font-size:3rem; text-shadow:0 0 18px rgba(230,191,72,0.18);
  }
  .intro p{ max-width:760px; color:#eadfd6; font-size:1.02rem; line-height:1.45 }
  .btn-enter{
    margin-top:8px; padding:12px 26px; border-radius:999px;
    background: linear-gradient(180deg, rgba(201,158,247,0.18), rgba(201,158,247,0.06));
    border:1px solid rgba(201,158,247,0.26);
    color:#fff; font-weight:700; cursor:pointer; box-shadow:0 10px 28px rgba(45,8,80,0.45);
  }

  /* Card layout */
  .card{
    border-radius:var(--card-radius);
    overflow:hidden;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(201,158,247,0.05);
    box-shadow: 0 18px 60px rgba(0,0,0,0.7);
  }

  .topbar{
    display:flex; align-items:center; justify-content:space-between;
    padding:16px 20px; gap:12px;
  }
  .title{
    font-family:'Great Vibes', cursive; color:var(--gold); font-size:1.6rem;
  }
  .subtitle{ color:#dcd0c8; font-size:0.95rem; opacity:0.95 }

  .main-area{ display:flex; gap:16px; padding:22px; align-items:flex-start; min-height:62vh; position:relative; }

  .panel{
    flex:1 1 720px; position:relative; border-radius:12px; padding:24px;
    background:var(--glass); border:1px solid rgba(255,255,255,0.02); box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
    overflow:auto; z-index:3;
  }

  .country { color:var(--gold); font-weight:700; font-size:1.05rem; margin-bottom:10px; }
  .fr { font-size:1.12rem; line-height:1.75; color:#f3eae5; margin-bottom:12px; text-align:justify; }
  .es { font-size:1.02rem; line-height:1.6; color:#eadfd6; opacity:0.95; margin-bottom:14px; font-style:italic; text-align:justify; }
  .from { text-align:right; color:var(--gold); font-family:'Great Vibes'; font-size:1.18rem; margin-top:6px; }

  /* right nav flags */
  .nav { width:140px; display:flex; flex-direction:column; gap:12px; align-items:center; z-index:4; }
  .flag-btn{
    width:var(--flag-size); height:var(--flag-size); border-radius:999px;
    border:2px solid rgba(255,255,255,0.05); display:inline-flex; align-items:center; justify-content:center;
    font-size:24px; cursor:pointer; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    box-shadow: 0 10px 22px rgba(20,4,40,0.5);
  }
  .flag-btn.active{ outline:3px solid rgba(201,158,247,0.2); transform:scale(1.03); }

  .hint{ margin-top:6px; font-size:0.9rem; color:#d9cfc7; opacity:0.95; text-align:center }

  footer.note { text-align:center; margin-top:12px; color:rgba(230,191,72,0.9); font-family:'Great Vibes'; padding:10px 0; }

  /* background tint and landmark */
  .bg-tint { position:absolute; inset:0; z-index:1; pointer-events:none; background-blend-mode:multiply; }
  .landmark { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); font-size:180px; opacity:0.08; z-index:1; pointer-events:none; }

  .t-fr { background: radial-gradient(circle at 30% 30%, rgba(210,160,240,0.14), transparent 8%), linear-gradient(180deg, rgba(30,6,40,0.6), rgba(10,3,26,0.85)); }
  .t-jp { background: radial-gradient(circle at 80% 20%, rgba(180,110,250,0.12), transparent 8%), linear-gradient(180deg, rgba(30,6,44,0.6), rgba(8,3,24,0.85)); }
  .t-uk { background: radial-gradient(circle at 60% 20%, rgba(160,110,235,0.11), transparent 8%), linear-gradient(180deg, rgba(30,6,42,0.6), rgba(10,3,26,0.85)); }
  .t-br { background: radial-gradient(circle at 20% 80%, rgba(220,130,240,0.1), transparent 8%), linear-gradient(180deg, rgba(28,6,44,0.6), rgba(8,3,26,0.85)); }
  .t-ar { background: radial-gradient(circle at 50% 50%, rgba(200,130,230,0.1), transparent 8%), linear-gradient(180deg, rgba(26,6,40,0.6), rgba(8,3,24,0.85)); }
  .t-us { background: radial-gradient(circle at 80% 80%, rgba(190,120,240,0.09), transparent 8%), linear-gradient(180deg, rgba(30,6,46,0.6), rgba(8,3,24,0.85)); }
  .t-de { background: radial-gradient(circle at 40% 20%, rgba(210,140,245,0.1), transparent 8%), linear-gradient(180deg, rgba(28,6,44,0.6), rgba(8,3,24,0.85)); }

  @media (max-width:860px){
    .main-area{ flex-direction:column; padding:16px; gap:14px }
    .nav { flex-direction:row; width:auto; order:2; justify-content:center; }
    .flag-btn{ width:44px; height:44px; font-size:18px; }
    .panel{ order:1; min-height:52vh; }
    .landmark{ font-size:120px }
  }
</style>
</head>
<body>
  <canvas id="stars"></canvas>

  <div class="wrap">
    <!-- intro -->
    <section class="intro" id="intro">
      <h1>Ma princesse</h1>
      <p><strong>l'amour qui traverse les étoiles</strong><br>
      Une réponse venue d'ailleurs — sept étapes, chaque lieu un souvenir.  
      Appuie sur <em>Entrer</em> pour lire la lettre que je t'écris.</p>
      <button class="btn-enter" id="enterBtn">Entrer</button>
    </section>

    <!-- card -->
    <article class="card" id="rootCard" aria-hidden="true">
      <div class="topbar">
        <div>
          <div class="title">Ma princesse — l'amour qui traverse les étoiles</div>
          <div class="subtitle">Une réponse d'amour en 7 lieux</div>
        </div>
        <div style="text-align:right"><div style="font-size:0.85rem;color:#e9dbd0">❤ Texte en français • Traducción en español</div></div>
      </div>

      <div class="main-area">
        <div class="bg-tint t-fr" id="bgTint"></div>
        <div class="landmark" id="landmark">🗼</div>

        <section class="panel" id="panel">
          <div class="country" id="country">France — France</div>
          <div class="fr" id="textFr">Je marche et je te cherche dans chaque ruelle, chaque parfum de pain chaud — tu es le calme que je veux garder.</div>
          <div class="es" id="textEs">Camino y te busco en cada calle, en cada aroma de pan caliente — eres la calma que quiero conservar.</div>
          <div class="from" id="sign">— Ta voix</div>
        </section>

        <aside class="nav" aria-label="Navigation par pays">
          <button class="flag-btn active" data-i="0" title="France">🇫🇷</button>
          <button class="flag-btn" data-i="1" title="Japon">🇯🇵</button>
          <button class="flag-btn" data-i="2" title="Royaume-Uni">🇬🇧</button>
          <button class="flag-btn" data-i="3" title="Brésil">🇧🇷</button>
          <button class="flag-btn" data-i="4" title="Argentine">🇦🇷</button>
          <button class="flag-btn" data-i="5" title="États-Unis">🇺🇸</button>
          <button class="flag-btn" data-i="6" title="Allemagne">🇩🇪</button>
          <div class="hint">Choisissez un pays</div>
        </aside>
      </div>

      <footer class="note">Ma princesse — même loin, je t'écris.</footer>
    </article>
  </div>

<script>
/* Stars background animation */
(function(){
  const canvas = document.getElementById('stars');
  const ctx = canvas.getContext('2d');
  let w = canvas.width = innerWidth;
  let h = canvas.height = innerHeight;
  const stars = [];
  const count = Math.round((w*h)/42000);
  for(let i=0;i<count;i++){
    stars.push({
      x: Math.random()*w,
      y: Math.random()*h,
      r: Math.random()*1.6+0.4,
      vx: (Math.random()*0.6-0.3),
      vy: (Math.random()*0.25-0.12),
      a: Math.random()*0.7+0.15
    });
  }
  function resize(){ w = canvas.width = innerWidth; h = canvas.height = innerHeight; }
  addEventListener('resize', resize);
  function draw(){
    ctx.clearRect(0,0,w,h);
    for(const s of stars){
      s.x += s.vx; s.y += s.vy;
      if(s.x < 0) s.x = w;
      if(s.x > w) s.x = 0;
      if(s.y < 0) s.y = h;
      if(s.y > h) s.y = 0;
      ctx.beginPath();
      ctx.fillStyle = 'rgba(202,160,242,'+s.a+')';
      ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(draw);
  }
  draw();
})();

/* Data (voice of her — poetic in FR with ES translation) */
const data = [
  {
    id:'france', name:'France — France', landmark:'🗼',
    tint:'t-fr',
    fr:"Je marche et je te cherche dans chaque ruelle, chaque parfum de pain chaud — tu es le calme que je veux garder.",
    es:"Camino y te busco en cada calle, en cada aroma de pan caliente — eres la calma que quiero conservar."
  },
  {
    id:'japan', name:'Japon — Japon', landmark:'🎎',
    tint:'t-jp',
    fr:"Sous les cerisiers, je chuchote ton nom au vent. Ton regard est un temple où je trouve la paix.",
    es:"Bajo los cerezos susurro tu nombre al viento. Tu mirada es un templo donde encuentro la paz."
  },
  {
    id:'uk', name:'Royaume-Uni — Reino Unido', landmark:'☔',
    tint:'t-uk',
    fr:"La pluie m'apprend la patience; je la transforme en promesses. À travers les rues grises, mon cœur t'appelle.",
    es:"La lluvia me enseña paciencia; la convierto en promesas. A través de las calles grises, mi corazón te llama."
  },
  {
    id:'brazil', name:'Brésil — Brasil', landmark:'🌺',
    tint:'t-br',
    fr:"Dans la danse et le rire, j'apprends ton nom par cœur. Tu es la chaleur qui colore mes jours.",
    es:"En la danza y la risa aprendo tu nombre de memoria. Eres el calor que colorea mis días."
  },
  {
    id:'arg', name:'Argentine — Argentina', landmark:'🎶',
    tint:'t-ar',
    fr:"Les nuits d'Argentine chantent nos promesses. Je veux danser à tes côtés, jusqu'à ce que le monde s'arrête.",
    es:"Las noches de Argentina cantan nuestras promesas. Quiero bailar a tu lado hasta que el mundo se detenga."
  },
  {
    id:'usa', name:'États-Unis — Estados Unidos', landmark:'🌆',
    tint:'t-us',
    fr:"Sous les lumières sans fin, je trace un futur avec toi. Chaque étoile me rappelle une promesse que je tiendrai.",
    es:"Bajo las luces infinitas, dibujo un futuro contigo. Cada estrella me recuerda una promesa que cumpliré."
  },
  {
    id:'de', name:'Allemagne — Alemania', landmark:'🏰',
    tint:'t-de',
    fr:"Dans la force tranquille des forêts, je trouve la loyauté. Je te jure fidélité: mes jours sont à toi.",
    es:"En la fuerza tranquila de los bosques encuentro lealtad. Te juro fidelidad: mis días son para ti."
  }
];

/* UI elements */
let idx = 0;
const countryEl = document.getElementById('country');
const textFrEl = document.getElementById('textFr');
const textEsEl = document.getElementById('textEs');
const signEl = document.getElementById('sign');
const bgTint = document.getElementById('bgTint');
const landmark = document.getElementById('landmark');
const flags = Array.from(document.querySelectorAll('.flag-btn'));
const intro = document.getElementById('intro');
const enterBtn = document.getElementById('enterBtn');
const rootCard = document.getElementById('rootCard');
const panel = document.getElementById('panel');

function render(i){
  const item = data[i];
  countryEl.textContent = item.name;
  textFrEl.textContent = item.fr;
  textEsEl.textContent = item.es;
  signEl.textContent = '— Ta voix';
  // background tint
  bgTint.className = 'bg-tint ' + item.tint;
  landmark.textContent = item.landmark;
  // flags active
  flags.forEach(b => b.classList.remove('active'));
  const active = flags.find(b => parseInt(b.dataset.i,10) === i);
  if(active) active.classList.add('active');
}

flags.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    idx = parseInt(btn.dataset.i,10);
    render(idx);
    panel.scrollTop = 0;
  });
});

/* Enter event */
enterBtn.addEventListener('click', ()=>{
  intro.style.display = 'none';
  rootCard.setAttribute('aria-hidden','false');
  setTimeout(()=>render(0),60);
});

/* keyboard nav */
addEventListener('keydown', e=>{
  if(intro && intro.style.display !== 'none') return;
  if(e.key === 'ArrowRight'){ idx = Math.min(data.length-1, idx+1); render(idx); panel.scrollTop = 0; }
  if(e.key === 'ArrowLeft'){ idx = Math.max(0, idx-1); render(idx); panel.scrollTop = 0; }
});

/* swipe for mobile */
(function(){
  let sx=0, sy=0;
  document.addEventListener('touchstart', e=>{ sx = e.changedTouches[0].screenX; sy = e.changedTouches[0].screenY; }, {passive:true});
  document.addEventListener('touchend', e=>{
    const dx = e.changedTouches[0].screenX - sx;
    const dy = e.changedTouches[0].screenY - sy;
    if(Math.abs(dx) > 40 && Math.abs(dy) < 80){
      if(dx < 0){ idx = Math.min(data.length-1, idx+1); render(idx); panel.scrollTop = 0; }
      else { idx = Math.max(0, idx-1); render(idx); panel.scrollTop = 0; }
    }
  }, {passive:true});
})();

/* init content for accessibility */
render(0);
</script>
</body>
  </html>
